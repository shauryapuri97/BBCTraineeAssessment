<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<meta charset="utf-8" />
<meta http-equiv="content-language" content="en" />
<meta http-equiv="Content-Type" content="UTF-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
<link href="main.css" media="all" rel="stylesheet" type="text/css" />
<link href="https://fonts.googleapis.com/css?family=Roboto:400,700" rel="stylesheet">
</head>
<body>
	<h1><center>Data Table Trainee Assessment</center></h1>
	<div style="overflow-x:auto;">
		<table id='table'>
			<tr>
				<th>Date</th>
				<th>BBC One</th>
			    <th>BBC Two</th>
			    <th>BBC Three</th>
			    <th>BBC Four</th>
			    <th>BBC News24</th>
			    <th>CBBC</th>
			    <th>Cbeebies</th>
			</tr>
		</table>
	</div>
<script src="jquery-2.1.1.js"></script>
<script src="https://canvasjs.com/assets/script/canvasjs.min.js"></script>
<script>
$.getJSON('https://gist.githubusercontent.com/shauryapuri97/a890eaf50f18ca166586766ad51b2f3a/raw/aabc4d346b67f43162ec31d10ccca6e9d73c9dec/data.json', function (data) {
    console.log(data);
    var table_data = '';
    var dateFormatted;
    $.each(data, function(key, value){
    	
    	dateFormatted = '';
    	var dateFormat = key.split("-");
    	var year = dateFormat[0];
    	var month = dateFormat[1];

    	if (month=='01') { dateFormatted += 'January ';} 
    	else if (month=='02') { dateFormatted = 'February ';}
    	else if (month=='03') { dateFormatted = 'March ';}
    	else if (month=='04') { dateFormatted = 'April ';}
    	else if (month=='05') { dateFormatted = 'May ';}
    	else if (month=='06') { dateFormatted = 'June ';}
    	else if (month=='07') { dateFormatted = 'July ';}
    	else if (month=='08') { dateFormatted = 'August ';}
    	else if (month=='09') { dateFormatted = 'September ';}
    	else if (month=='10') { dateFormatted = 'October ';}
    	else if (month=='11') { dateFormatted = 'November ';}
    	else if (month=='12') { dateFormatted = 'December ';}
    	dateFormatted += year;

    	table_data += '<tr>';
    	table_data += '<td>'+dateFormatted+'</td>';
    	table_data += '<td>'+value.bbcone+'</td>';
    	table_data += '<td>'+value.bbctwo+'</td>';
    	table_data += '<td>'+value.bbcthree+'</td>';
    	table_data += '<td>'+value.bbcfour+'</td>';
    	table_data += '<td>'+value.bbcnews24+'</td>';
    	table_data += '<td>'+value.cbbc+'</td>';
    	table_data += '<td>'+value.cbeebies+'</td>';
    	table_data += '</tr>';
    });
    $('#table').append(table_data);
});
</script>
<br><br>
<script>
window.onload = function () {

var chart = new CanvasJS.Chart("chartContainer", {
	animationEnabled: true,
	theme: "light2",
	title:{
		text: "Visual Representation of the Data"
	},
	axisX:{
		valueFormatString: "MMM YYYY",
		crosshair: {
			enabled: true,
			snapToDataPoint: true
		}
	},
	axisY: {
		title: "",
		crosshair: {
			enabled: true
		}
	},
	toolTip:{
		shared:true
	},  
	legend:{
		cursor:"pointer",
		verticalAlign: "bottom",
		horizontalAlign: "left",
		dockInsidePlotArea: true,
		itemclick: toogleDataSeries
	},
	data: [{
		type: "line",
		showInLegend: true,
		name: "BBC One",
		markerType: "square",
		xValueFormatString: "MMM YYYY, DD",
		color: "#F08080",
		dataPoints: [
			{ x: new Date(2009, 0, 0), y: 940 },
			{ x: new Date(2009, 1, 0), y: 904 },
			{ x: new Date(2009, 2, 0), y: 980 },
			{ x: new Date(2009, 3, 0), y: 987 },
			{ x: new Date(2009, 4, 0), y: 1002 },
			{ x: new Date(2009, 5, 0), y: 837 },
			{ x: new Date(2009, 6, 0), y: 921 },
			{ x: new Date(2009, 7, 0), y: 960 },
			{ x: new Date(2009, 8, 0), y: 952 },
			{ x: new Date(2009, 9, 0), y: 985 },
			{ x: new Date(2009, 10, 0), y: 967 },
			{ x: new Date(2009, 11, 0), y: 924 }
		]
	},
	{
		type: "line",
		showInLegend: true,
		name: "BBC Two",
		markerType: "square",
		xValueFormatString: "MMM YYYY, DD",
		color: "#E58729",
		dataPoints: [
			{ x: new Date(2009, 0, 3), y: 1040 },
			{ x: new Date(2009, 1, 4), y: 1038 },
			{ x: new Date(2009, 2, 5), y: 1158 },
			{ x: new Date(2009, 3, 6), y: 1014 },
			{ x: new Date(2009, 4, 7), y: 1104 },
			{ x: new Date(2009, 5, 8), y: 1002 },
			{ x: new Date(2009, 6, 9), y: 963 },
			{ x: new Date(2009, 7, 10), y: 910 },
			{ x: new Date(2009, 8, 11), y: 1068 },
			{ x: new Date(2009, 9, 12), y: 1184 },
			{ x: new Date(2009, 10, 13), y: 1176 },
			{ x: new Date(2009, 11, 14), y: 1024 }
		]
	},
	{
		type: "line",
		showInLegend: true,
		name: "BBC Three",
		markerType: "square",
		xValueFormatString: "MMM YYYY, DD",
		color: "#4EB716",
		dataPoints: [
			{ x: new Date(2009, 0, 3), y: 441 },
			{ x: new Date(2009, 1, 4), y: 434 },
			{ x: new Date(2009, 2, 5), y: 494 },
			{ x: new Date(2009, 3, 6), y: 488 },
			{ x: new Date(2009, 4, 7), y: 512 },
			{ x: new Date(2009, 5, 8), y: 432 },
			{ x: new Date(2009, 6, 9), y: 489 },
			{ x: new Date(2009, 7, 10), y: 506 },
			{ x: new Date(2009, 8, 11), y: 502 },
			{ x: new Date(2009, 9, 12), y: 546 },
			{ x: new Date(2009, 10, 13), y: 474 },
			{ x: new Date(2009, 11, 14), y: 427 }
		]
	},
	{
		type: "line",
		showInLegend: true,
		name: "BBC Four",
		markerType: "square",
		xValueFormatString: "MMM YYYY, DD",
		color: "#16B796",
		dataPoints: [
			{ x: new Date(2009, 0, 3), y: 324 },
			{ x: new Date(2009, 1, 4), y: 295 },
			{ x: new Date(2009, 2, 5), y: 314 },
			{ x: new Date(2009, 3, 6), y: 336 },
			{ x: new Date(2009, 4, 7), y: 332 },
			{ x: new Date(2009, 5, 8), y: 311 },
			{ x: new Date(2009, 6, 9), y: 321 },
			{ x: new Date(2009, 7, 10), y: 294 },
			{ x: new Date(2009, 8, 11), y: 281 },
			{ x: new Date(2009, 9, 12), y: 319 },
			{ x: new Date(2009, 10, 13), y: 300 },
			{ x: new Date(2009, 11, 14), y: 307 }
		]
	},
	{
		type: "line",
		showInLegend: true,
		name: "BBC News24",
		markerType: "square",
		xValueFormatString: "MMM YYYY, DD",
		color: "#11A2C6",
		dataPoints: [
			{ x: new Date(2009, 0, 3), y: 1075 },
			{ x: new Date(2009, 1, 4), y: 958 },
			{ x: new Date(2009, 2, 5), y: 1062 },
			{ x: new Date(2009, 3, 6), y: 1022 },
			{ x: new Date(2009, 4, 7), y: 1073 },
			{ x: new Date(2009, 5, 8), y: 981 },
			{ x: new Date(2009, 6, 9), y: 1049 },
			{ x: new Date(2009, 7, 10), y: 1071 },
			{ x: new Date(2009, 8, 11), y: 1020 },
			{ x: new Date(2009, 9, 12), y: 1058 },
			{ x: new Date(2009, 10, 13), y: 1021 },
			{ x: new Date(2009, 11, 14), y: 1027 }
		]
	},
	{
		type: "line",
		showInLegend: true,
		name: "CBBC",
		markerType: "square",
		xValueFormatString: "MMM YYYY, DD",
		color: "#8C10BC",
		dataPoints: [
			{ x: new Date(2009, 0, 3), y: 898 },
			{ x: new Date(2009, 1, 4), y: 793 },
			{ x: new Date(2009, 2, 5), y: 914 },
			{ x: new Date(2009, 3, 6), y: 792 },
			{ x: new Date(2009, 4, 7), y: 840 },
			{ x: new Date(2009, 5, 8), y: 801 },
			{ x: new Date(2009, 6, 9), y: 881 },
			{ x: new Date(2009, 7, 10), y: 885 },
			{ x: new Date(2009, 8, 11), y: 914 },
			{ x: new Date(2009, 9, 12), y: 1031 },
			{ x: new Date(2009, 10, 13), y: 1009 },
			{ x: new Date(2009, 11, 14), y: 844 }
		]
	},
	{
		type: "line",
		showInLegend: true,
		name: "Cbeebies",
		markerType: "square",
		xValueFormatString: "MMM YYYY, DD",
		color: "#CC1231",
		dataPoints: [
			{ x: new Date(2009, 0, 3), y: 1343 },
			{ x: new Date(2009, 1, 4), y: 1246 },
			{ x: new Date(2009, 2, 5), y: 1461 },
			{ x: new Date(2009, 3, 6), y: 1382 },
			{ x: new Date(2009, 4, 7), y: 1368 },
			{ x: new Date(2009, 5, 8), y: 1265 },
			{ x: new Date(2009, 6, 9), y: 1340 },
			{ x: new Date(2009, 7, 10), y: 1312 },
			{ x: new Date(2009, 8, 11), y: 1397 },
			{ x: new Date(2009, 9, 12), y: 1448 },
			{ x: new Date(2009, 10, 13), y: 1387 },
			{ x: new Date(2009, 11, 14), y: 1300 }
		]
	}]
});
chart.render();

function toogleDataSeries(e){
	if (typeof(e.dataSeries.visible) === "undefined" || e.dataSeries.visible) {
		e.dataSeries.visible = false;
	} else{
		e.dataSeries.visible = true;
	}
	chart.render();
}

}
</script>
<div id="chartContainer" style="height: 300px; width: 100%;"></div>
</body>
</html>